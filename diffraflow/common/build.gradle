apply from: "$rootDir/gradle/common_cpp_lib.gradle"
import org.gradle.internal.os.OperatingSystem

library {
    binaries.configureEach {
        compileTask.get().compilerArgs.add('-DBOOST_ALL_DYN_LINK')
        if (OperatingSystem.current() == OperatingSystem.MAC_OS) {
            linkTask.get().linkerArgs.add('-lboost_log-mt')
            linkTask.get().linkerArgs.add('-lboost_system-mt')
        } else {
            linkTask.get().linkerArgs.add('-lboost_log')
            linkTask.get().linkerArgs.add('-lboost_system')
        }
    }
}
